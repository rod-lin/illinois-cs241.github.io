<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="apple-touch-icon" sizes="180x180" href="images/favicons/apple-touch-icon.png">
  <link rel="icon" type="image/png" href="images/favicons/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="images/favicons/favicon-16x16.png" sizes="16x16">
  <link rel="manifest" href="images/favicons/manifest.json">
  <link rel="mask-icon" href="images/favicons/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="theme-color" content="#ffffff">

  <title>C Programming: Review Questions</title>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" crossorigin="anonymous">
  <link async rel="stylesheet" href="/css/code-style.css?v=2018-09-08 16:51:38 +0000">
  <link rel="stylesheet" href="/css/main.css?v=2018-09-08 16:51:38 +0000">

</head>

<body>
<!-- Always shows a header, even in smaller screens. -->
<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">

            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>

            <a id="tuxlink"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAJCAMAAAA4jZ0cAAAAM1BMVEX///8CAgQMDAwsLCw0NDSjbQCkbQC+vbzOkwDU1NTlrADqvADxtgD0vQD12wD+/vz+//yBSdYEAAAAAXRSTlMAQObYZgAAADFJREFUCB0FwQkCQDAQBLCsq6g1/v9aCVQBthUwX8BIgStZCpUvKXSSLs6eyd0Pdg5+JwkBVyC74QYAAAAASUVORK5CYII=" title="Tux" alt="Tux" style="margin-left: 1em; width: 24px; filter: drop-shadow(1px 1px 0 white) drop-shadow(1px -1px 0 white) drop-shadow(-1px 1px 0 white) drop-shadow(-1px -1px 0 white); margin-top: 1em;"/></a>

            <a class="navbar-brand navbar-link normal" href="/">CS 241: System Programming</a>
            <a class="navbar-brand navbar-link small" href="/">CS 241</a>
        </div>

        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li>
            <a class="navbar-link" href="/mps.html">MPs</a>
            </li>
            <li>
            <a class="navbar-link" href="/labs.html">Labs</a>
            </li>
            <li>
            <a class="navbar-link" href="/help.html">Help!</a>
            </li>
            <li>
            <a class="navbar-link" href="/schedule.html">Schedule</a>
            </li>
            <li>
            <a class="navbar-link" href="/honors.html">Honors</a>
            </li>
            <li>
            <a class="navbar-link" href="/staff.html">The Crew</a>
            </li>
            <li>
            <a class="navbar-link" href="/search.html">Search</a>
            </li>
            <li>
            <a class="navbar-link" href="/wikibook/home.html">Wikibook</a>
            </li>
          </ul>
        </div>
        </div>
</nav>

<div class="container-fluid">
  <div class="row">
    <div class="col-md-2 col-sm-1 col-xs-0"></div>
    <div class="col-md-8 col-sm-10 col-xs-12">
      <div class="wrapper">
        <div class="pad"><div class="card">
          <div class="title">
            <div class="speaker-wrapper">
              <button onclick="speak()" class="speaker" alt="Read Page"></button>
            </div>
            <h1>
              C Programming: Review Questions
              
                <a class="github-link hidden-xs" href="https://github.com/angrave/SystemProgramming/wiki//C-Programming:-Review-Questions">Edit on Github</a>
              
            </h1>
          </div>
          <div class="container-fluid"><div class="row"><div class="content col-sm-11 .col-sm-offset-1">
            
          </div></div></div>
        </div></div>
      </div>
      <div class="toc-wrapper">
<h4>Content</h4>
<ul class="toc">
<li><a id="toc_warning---question-numbers-subject-to-change" href="#warning---question-numbers-subject-to-change" class="fancy-link">Warning - question numbers subject to change</a></li>
<li><a id="toc_q11" href="#q11" class="fancy-link">Q1.1</a></li>
<li><a id="toc_q-12" href="#q-12" class="fancy-link">Q 1.2</a></li>
<li><a id="toc_q-13" href="#q-13" class="fancy-link">Q 1.3</a></li>
<li><a id="toc_q-14" href="#q-14" class="fancy-link">Q 1.4</a></li>
<li><a id="toc_q-14-1" href="#q-14-1" class="fancy-link">Q 1.4</a></li>
<li><a id="toc_q-15" href="#q-15" class="fancy-link">Q 1.5</a></li>
<li><a id="toc_q-16" href="#q-16" class="fancy-link">Q 1.6</a></li>
<li><a id="toc_q-17" href="#q-17" class="fancy-link">Q 1.7</a></li>
<li><a id="toc_q-18" href="#q-18" class="fancy-link">Q 1.8</a></li>
<li><a id="toc_q-19" href="#q-19" class="fancy-link">Q 1.9</a></li>
<li><a id="toc_q-110" href="#q-110" class="fancy-link">Q 1.10</a></li>
<li><a id="toc_q-21" href="#q-21" class="fancy-link">Q 2.1</a></li>
<li><a id="toc_q-31" href="#q-31" class="fancy-link">Q 3.1</a></li>
<li><a id="toc_q-41" href="#q-41" class="fancy-link">Q 4.1</a></li>
<li><a id="toc_q-51" href="#q-51" class="fancy-link">Q 5.1</a></li>
<li><a id="toc_q-52" href="#q-52" class="fancy-link">Q 5.2</a></li>
<li><a id="toc_q-53" href="#q-53" class="fancy-link">Q 5.3</a></li>
<li><a id="toc_heap-memory" href="#heap-memory" class="fancy-link">Heap memory</a></li>
</ul>
</div>
      <div id="content">
        
        <div class="wrapper">

</div>
        <div class="wrapper">
<div class="pad"><div class="card">
<div class="title"><h2 id="warning---question-numbers-subject-to-change" class="title-text">Warning - question numbers subject to change<a class="anchor title-text" href="#warning---question-numbers-subject-to-change">#</a>
</h2></div>
<div class="container-fluid"><div class="row"><div class="content col-sm-11 .col-sm-offset-1"></div></div></div>
</div></div>
<div class="pad"><div class="card">
<div class="container-fluid"><div class="row"><div class="content col-sm-11 .col-sm-offset-1">
<h1 id="memory-and-strings">Memory and Strings</h1>
<div class="pad"><div class="card">
<div class="title"><h2 id="q11" class="title-text">Q1.1<a class="anchor title-text" href="#q11">#</a>
</h2></div>
<p>In the example below, which variables are guaranteed to print the value of zero?</p>
<pre><code class="language-C"><a class="code-copy" rel="code-copy-0" onclick="onCopy(this);">Copy</a><span class="kt">int</span> <span class="n">a</span><span class="p">;</span>
<span class="k">static</span> <span class="kt">int</span> <span class="n">b</span><span class="p">;</span>

<span class="kt">void</span> <span class="nf">func</span><span class="p">()</span> <span class="p">{</span>
   <span class="k">static</span> <span class="kt">int</span> <span class="n">c</span><span class="p">;</span>
   <span class="kt">int</span> <span class="n">d</span><span class="p">;</span>
   <span class="n">printf</span><span class="p">(</span><span class="s">"%d %d %d %d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">);</span>
<span class="p">}</span>
<textarea id="code-copy-0" class="code-copy-textarea" value='int a;
static int b;

void func() {
   static int c;
   int d;
   printf("%d %d %d %d\n",a,b,c,d);
}
'></textarea></code></pre>
</div></div>
<div class="pad"><div class="card">
<div class="title"><h2 id="q-12" class="title-text">Q 1.2<a class="anchor title-text" href="#q-12">#</a>
</h2></div>
<p>In the example below, which variables are guaranteed to print the value of zero?</p>
<pre><code class="language-C"><a class="code-copy" rel="code-copy-1" onclick="onCopy(this);">Copy</a><span class="kt">void</span> <span class="nf">func</span><span class="p">()</span> <span class="p">{</span>
   <span class="kt">int</span><span class="o">*</span> <span class="n">ptr1</span> <span class="o">=</span> <span class="n">malloc</span><span class="p">(</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span> <span class="p">);</span>
   <span class="kt">int</span><span class="o">*</span> <span class="n">ptr2</span> <span class="o">=</span> <span class="n">realloc</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span> <span class="p">);</span>
   <span class="kt">int</span><span class="o">*</span> <span class="n">ptr3</span> <span class="o">=</span> <span class="n">calloc</span><span class="p">(</span> <span class="mi">1</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span> <span class="p">);</span>
   <span class="kt">int</span><span class="o">*</span> <span class="n">ptr4</span> <span class="o">=</span> <span class="n">calloc</span><span class="p">(</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span> <span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
   
   <span class="n">printf</span><span class="p">(</span><span class="s">"%d %d %d %d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="o">*</span><span class="n">ptr1</span><span class="p">,</span><span class="o">*</span><span class="n">ptr2</span><span class="p">,</span><span class="o">*</span><span class="n">ptr3</span><span class="p">,</span><span class="o">*</span><span class="n">ptr4</span><span class="p">);</span>
<span class="p">}</span>
<textarea id="code-copy-1" class="code-copy-textarea" value='void func() {
   int* ptr1 = malloc( sizeof(int) );
   int* ptr2 = realloc(NULL, sizeof(int) );
   int* ptr3 = calloc( 1, sizeof(int) );
   int* ptr4 = calloc( sizeof(int) , 1);
   
   printf("%d %d %d %d\n",*ptr1,*ptr2,*ptr3,*ptr4);
}
'></textarea></code></pre>
</div></div>
<div class="pad"><div class="card">
<div class="title"><h2 id="q-13" class="title-text">Q 1.3<a class="anchor title-text" href="#q-13">#</a>
</h2></div>
<p>Explain the error in the following attempt to copy a string.</p>
<pre><code class="language-C"><a class="code-copy" rel="code-copy-2" onclick="onCopy(this);">Copy</a><span class="kt">char</span><span class="o">*</span> <span class="nf">copy</span><span class="p">(</span><span class="kt">char</span><span class="o">*</span><span class="n">src</span><span class="p">)</span> <span class="p">{</span>
 <span class="kt">char</span><span class="o">*</span><span class="n">result</span> <span class="o">=</span> <span class="n">malloc</span><span class="p">(</span> <span class="n">strlen</span><span class="p">(</span><span class="n">src</span><span class="p">)</span> <span class="p">);</span> 
 <span class="n">strcpy</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">src</span><span class="p">);</span> 
 <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
<span class="p">}</span>
<textarea id="code-copy-2" class="code-copy-textarea" value="char* copy(char*src) {
 char*result = malloc( strlen(src) ); 
 strcpy(result, src); 
 return result;
}
"></textarea></code></pre>
</div></div>
<div class="pad"><div class="card">
<div class="title"><h2 id="q-14" class="title-text">Q 1.4<a class="anchor title-text" href="#q-14">#</a>
</h2></div>
<p>Why does the following attempt to copy a string sometimes work and sometimes fail?</p>

<pre><code class="language-C"><a class="code-copy" rel="code-copy-3" onclick="onCopy(this);">Copy</a><span class="kt">char</span><span class="o">*</span> <span class="nf">copy</span><span class="p">(</span><span class="kt">char</span><span class="o">*</span><span class="n">src</span><span class="p">)</span> <span class="p">{</span>
 <span class="kt">char</span><span class="o">*</span><span class="n">result</span> <span class="o">=</span> <span class="n">malloc</span><span class="p">(</span> <span class="n">strlen</span><span class="p">(</span><span class="n">src</span><span class="p">)</span> <span class="o">+</span><span class="mi">1</span> <span class="p">);</span> 
 <span class="n">strcat</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">src</span><span class="p">);</span> 
 <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
<span class="p">}</span>
<textarea id="code-copy-3" class="code-copy-textarea" value="char* copy(char*src) {
 char*result = malloc( strlen(src) +1 ); 
 strcat(result, src); 
 return result;
}
"></textarea></code></pre>
</div></div>
<div class="pad"><div class="card">
<div class="title"><h2 id="q-14-1" class="title-text">Q 1.4<a class="anchor title-text" href="#q-14-1">#</a>
</h2></div>
<p>Explain the two errors in the following code that attempts to copy a string.</p>
<pre><code class="language-C"><a class="code-copy" rel="code-copy-4" onclick="onCopy(this);">Copy</a><span class="kt">char</span><span class="o">*</span> <span class="nf">copy</span><span class="p">(</span><span class="kt">char</span><span class="o">*</span><span class="n">src</span><span class="p">)</span> <span class="p">{</span>
 <span class="kt">char</span> <span class="n">result</span><span class="p">[</span><span class="k">sizeof</span><span class="p">(</span><span class="n">src</span><span class="p">)];</span> 
 <span class="n">strcpy</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">src</span><span class="p">);</span> 
 <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
<span class="p">}</span>
<textarea id="code-copy-4" class="code-copy-textarea" value="char* copy(char*src) {
 char result[sizeof(src)]; 
 strcpy(result, src); 
 return result;
}
"></textarea></code></pre>
</div></div>
<div class="pad"><div class="card">
<div class="title"><h2 id="q-15" class="title-text">Q 1.5<a class="anchor title-text" href="#q-15">#</a>
</h2></div>
<p>Which of the following is legal?</p>
<pre><code class="language-C"><a class="code-copy" rel="code-copy-5" onclick="onCopy(this);">Copy</a><span class="kt">char</span> <span class="n">a</span><span class="p">[]</span> <span class="o">=</span> <span class="s">"Hello"</span><span class="p">;</span> <span class="n">strcpy</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="s">"World"</span><span class="p">);</span>
<span class="kt">char</span> <span class="n">b</span><span class="p">[]</span> <span class="o">=</span> <span class="s">"Hello"</span><span class="p">;</span> <span class="n">strcpy</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="s">"World12345"</span><span class="p">,</span> <span class="n">b</span><span class="p">);</span>
<span class="kt">char</span><span class="o">*</span> <span class="n">c</span> <span class="o">=</span> <span class="s">"Hello"</span><span class="p">;</span> <span class="n">strcpy</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="s">"World"</span><span class="p">);</span>
<textarea id="code-copy-5" class="code-copy-textarea" value='char a[] = "Hello"; strcpy(a, "World");
char b[] = "Hello"; strcpy(b, "World12345", b);
char* c = "Hello"; strcpy(c, "World");
'></textarea></code></pre>

</div></div>
<div class="pad"><div class="card">
<div class="title"><h2 id="q-16" class="title-text">Q 1.6<a class="anchor title-text" href="#q-16">#</a>
</h2></div>
<p>Complete the function pointer typedef to declare a pointer to a function that takes a void* argument and returns a void*. Name your type ‘pthread_callback’</p>
<pre><code class="language-C"><a class="code-copy" rel="code-copy-6" onclick="onCopy(this);">Copy</a><span class="k">typedef</span> <span class="n">______________________</span><span class="p">;</span>
<textarea id="code-copy-6" class="code-copy-textarea" value="typedef ______________________;
"></textarea></code></pre>
</div></div>
<div class="pad"><div class="card">
<div class="title"><h2 id="q-17" class="title-text">Q 1.7<a class="anchor title-text" href="#q-17">#</a>
</h2></div>
<p>In addition to the function arguments what else is stored on a thread’s stack?</p>

</div></div>
<div class="pad"><div class="card">
<div class="title"><h2 id="q-18" class="title-text">Q 1.8<a class="anchor title-text" href="#q-18">#</a>
</h2></div>
<p>Implement a version of <code class="highlighter-rouge">char* strcat(char*dest, const char*src)</code> using only <code class="highlighter-rouge"><a href="https://linux.die.net/man/3/strcpy" class="fancy-link">strcpy</a></code>  <code class="highlighter-rouge"><a href="https://linux.die.net/man/3/strlen" class="fancy-link">strlen</a></code> and pointer arithmetic</p>
<pre><code class="language-C"><a class="code-copy" rel="code-copy-7" onclick="onCopy(this);">Copy</a><span class="kt">char</span><span class="o">*</span> <span class="nf">mystrcat</span><span class="p">(</span><span class="kt">char</span><span class="o">*</span><span class="n">dest</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span><span class="o">*</span><span class="n">src</span><span class="p">)</span> <span class="p">{</span>

  <span class="o">?</span> <span class="n">Use</span> <span class="n">strcpy</span> <span class="n">strlen</span> <span class="n">here</span>

  <span class="k">return</span> <span class="n">dest</span><span class="p">;</span>
<span class="p">}</span>
<textarea id="code-copy-7" class="code-copy-textarea" value="char* mystrcat(char*dest, const char*src) {

  ? Use strcpy strlen here

  return dest;
}
"></textarea></code></pre>
</div></div>
<div class="pad"><div class="card">
<div class="title"><h2 id="q-19" class="title-text">Q 1.9<a class="anchor title-text" href="#q-19">#</a>
</h2></div>
<p>Implement version of size_t strlen(const char*) using a loop and no function calls.</p>
<pre><code class="language-C"><a class="code-copy" rel="code-copy-8" onclick="onCopy(this);">Copy</a><span class="kt">size_t</span> <span class="nf">mystrlen</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span><span class="n">s</span><span class="p">)</span> <span class="p">{</span>

<span class="p">}</span>
<textarea id="code-copy-8" class="code-copy-textarea" value="size_t mystrlen(const char*s) {

}
"></textarea></code></pre>
</div></div>
<div class="pad"><div class="card">
<div class="title"><h2 id="q-110" class="title-text">Q 1.10<a class="anchor title-text" href="#q-110">#</a>
</h2></div>
<p>Identify the three bugs in the following implementation of <code class="highlighter-rouge"><a href="https://linux.die.net/man/3/strcpy" class="fancy-link">strcpy</a></code>.</p>
<pre><code class="language-C"><a class="code-copy" rel="code-copy-9" onclick="onCopy(this);">Copy</a><span class="kt">char</span><span class="o">*</span> <span class="nf">strcpy</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">dest</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">src</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">while</span><span class="p">(</span><span class="o">*</span><span class="n">src</span><span class="p">)</span> <span class="p">{</span> <span class="o">*</span><span class="n">dest</span><span class="o">++</span> <span class="o">=</span> <span class="o">*</span><span class="n">src</span><span class="o">++</span><span class="p">;</span> <span class="p">}</span>
  <span class="k">return</span> <span class="n">dest</span><span class="p">;</span>
<span class="p">}</span>
<textarea id="code-copy-9" class="code-copy-textarea" value="char* strcpy(const char* dest, const char* src) {
  while(*src) { *dest++ = *src++; }
  return dest;
}
"></textarea></code></pre>

</div></div>
</div></div></div>
</div></div>
<div class="pad"><div class="card">
<div class="container-fluid"><div class="row"><div class="content col-sm-11 .col-sm-offset-1">
<h1 id="printing">Printing</h1>
<div class="pad"><div class="card">
<div class="title"><h2 id="q-21" class="title-text">Q 2.1<a class="anchor title-text" href="#q-21">#</a>
</h2></div>
<p>Spot the two errors!</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>fprintf("You scored 100%");
</code></pre></div></div>
</div></div>
</div></div></div>
</div></div>
<div class="pad"><div class="card">
<div class="container-fluid"><div class="row"><div class="content col-sm-11 .col-sm-offset-1">
<h1 id="formatting-and-printing-to-a-file">Formatting and Printing to a file</h1>
<div class="pad"><div class="card">
<div class="title"><h2 id="q-31" class="title-text">Q 3.1<a class="anchor title-text" href="#q-31">#</a>
</h2></div>
<p>Complete the following code to print to a file. Print the name, a comma and the score to the file ‘result.txt’</p>
<pre><code class="language-C"><a class="code-copy" rel="code-copy-10" onclick="onCopy(this);">Copy</a><span class="kt">char</span><span class="o">*</span> <span class="n">name</span> <span class="o">=</span> <span class="p">.....;</span>
<span class="kt">int</span> <span class="n">score</span> <span class="o">=</span> <span class="p">......</span>
<span class="kt">FILE</span> <span class="o">*</span><span class="n">f</span> <span class="o">=</span> <span class="n">fopen</span><span class="p">(</span><span class="s">"result.txt"</span><span class="p">,</span><span class="n">_____</span><span class="p">);</span>
<span class="k">if</span><span class="p">(</span><span class="n">f</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">_____</span>
<span class="p">}</span>
<span class="n">fclose</span><span class="p">(</span><span class="n">f</span><span class="p">);</span>
<textarea id="code-copy-10" class="code-copy-textarea" value='char* name = .....;
int score = ......
FILE *f = fopen("result.txt",_____);
if(f) {
    _____
}
fclose(f);
'></textarea></code></pre>
</div></div>
</div></div></div>
</div></div>
<div class="pad"><div class="card">
<div class="container-fluid"><div class="row"><div class="content col-sm-11 .col-sm-offset-1">
<h1 id="printing-to-a-string">Printing to a string</h1>
<div class="pad"><div class="card">
<div class="title"><h2 id="q-41" class="title-text">Q 4.1<a class="anchor title-text" href="#q-41">#</a>
</h2></div>

<p>How would you print the values of variables a,mesg,val and ptr to a string? Print a as an integer, mesg as C string, val as a double val and ptr as a hexadecimal pointer. You may assume the mesg points to a short C string(&lt;50 characters).
Bonus: How would you make this code more robust or able to cope with?</p>
<pre><code class="language-C"><a class="code-copy" rel="code-copy-11" onclick="onCopy(this);">Copy</a><span class="kt">char</span><span class="o">*</span> <span class="nf">toString</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span><span class="n">mesg</span><span class="p">,</span> <span class="kt">double</span> <span class="n">val</span><span class="p">,</span> <span class="kt">void</span><span class="o">*</span> <span class="n">ptr</span><span class="p">)</span> <span class="p">{</span>
   <span class="kt">char</span><span class="o">*</span> <span class="n">result</span> <span class="o">=</span> <span class="n">malloc</span><span class="p">(</span> <span class="n">strlen</span><span class="p">(</span><span class="n">mesg</span><span class="p">)</span> <span class="o">+</span> <span class="mi">50</span><span class="p">);</span>
    <span class="n">_____</span>
   <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
<span class="p">}</span>
<textarea id="code-copy-11" class="code-copy-textarea" value="char* toString(int a, char*mesg, double val, void* ptr) {
   char* result = malloc( strlen(mesg) + 50);
    _____
   return result;
}
"></textarea></code></pre>

</div></div>
</div></div></div>
</div></div>
<div class="pad"><div class="card">
<div class="container-fluid"><div class="row"><div class="content col-sm-11 .col-sm-offset-1">
<h1 id="input-parsing">Input parsing</h1>
<div class="pad"><div class="card">
<div class="title"><h2 id="q-51" class="title-text">Q 5.1<a class="anchor title-text" href="#q-51">#</a>
</h2></div>
<p>Why should you check the return value of sscanf and scanf?</p>
</div></div>
<div class="pad"><div class="card">
<div class="title"><h2 id="q-52" class="title-text">Q 5.2<a class="anchor title-text" href="#q-52">#</a>
</h2></div>
<p>Why is ‘gets’ dangerous?</p>

</div></div>
<div class="pad"><div class="card">
<div class="title"><h2 id="q-53" class="title-text">Q 5.3<a class="anchor title-text" href="#q-53">#</a>
</h2></div>
<p>Write a complete program that uses <code class="highlighter-rouge"><a href="https://linux.die.net/man/3/getline" class="fancy-link">getline</a></code>. Ensure your program has no memory leaks.</p>

</div></div>
<div class="pad"><div class="card">
<div class="title"><h2 id="heap-memory" class="title-text">Heap memory<a class="anchor title-text" href="#heap-memory">#</a>
</h2></div>
<p>When would you use calloc not malloc? 
When would realloc be useful?</p>

<p>(Todo - move this question to another page)
What mistake did the programmer make in the following code? Is it possible to fix it i) using heap memory? ii) using global (static) memory?</p>
<pre><code class="language-C"><a class="code-copy" rel="code-copy-12" onclick="onCopy(this);">Copy</a><span class="k">static</span> <span class="kt">int</span> <span class="n">id</span><span class="p">;</span>

<span class="kt">char</span><span class="o">*</span> <span class="nf">next_ticket</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">id</span> <span class="o">++</span><span class="p">;</span>
  <span class="kt">char</span> <span class="n">result</span><span class="p">[</span><span class="mi">20</span><span class="p">];</span>
  <span class="n">sprintf</span><span class="p">(</span><span class="n">result</span><span class="p">,</span><span class="s">"%d"</span><span class="p">,</span><span class="n">id</span><span class="p">);</span>
  <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
<span class="p">}</span>
<textarea id="code-copy-12" class="code-copy-textarea" value='static int id;

char* next_ticket() {
  id ++;
  char result[20];
  sprintf(result,"%d",id);
  return result;
}
'></textarea></code></pre>
</div></div>
</div></div></div>
</div></div>
</div>
        
        <div class="wrapper">
</div>
      </div>
      <div class="col-md-2 col-sm-1 col-xs-0"></div>
    </div>
  </div>
  <script>
    var github_repo = "illinois-cs241/illinois-cs241.github.io";
    var github_path = "_wikibook/c-programming-review-questions.md";
  </script>
  <script src="https://code.jquery.com/jquery-3.2.1.min.js" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML" crossorigin="anonymous"></script>
<script src="/js/main.js?v=2018-09-08 16:51:38 +0000"></script>

<script>
$(document).ready(function() { 
    $("#tuxlink").prop("href", "javascript:;").click(function() { 
        if ("WebkitAppearance" in document.documentElement.style) { 
            var style = document.createElement("style"); 
            style.setAttribute("id", "tuxstyle"); 
            style.appendChild(document.createTextNode("")); 
            document.head.appendChild(style); 
            var sheet = style.sheet;
            sheet.insertRule("::-webkit-scrollbar-thumb {border-radius: 0; background-color: white; -webkit-box-shadow: none;}", 0); 
        } 

        const hackerKey = 'hackerLocalKey';
        const hackerOff = "off";
        const hackerOn = "on";

        if (window.localStorage.getItem(hackerKey) === null) {
            window.localStorage.setItem(hackerKey, hackerOff);
        }

        $("#tuxlink").unbind('click').click(function() { 
            const hackerClass = 'hacker';
            $('html, body, header, nav, table, pre, span, :not(.card-staff) > a, p, h1, h2, h3, h4, h5, h6').toggleClass(hackerClass);
            $('ul, img, pre').toggleClass(hackerClass);
            $('.toc').toggleClass(hackerClass);
            $('.content .highlighter-rouge').toggleClass(hackerClass);
            $('.large-centered.columns').toggleClass(hackerClass);
            $('.pad').toggleClass(hackerClass);
            $('a').toggleClass(hackerClass);
            $('tbody tr:nth-child(2n+1)').toggleClass(hackerClass);
            $("#tuxlink img").toggleClass(hackerClass);

            const val = window.localStorage.getItem(hackerKey);
            if (val === hackerOff) {
                window.localStorage.setItem(hackerKey, hackerOn);
            } else {
                window.localStorage.setItem(hackerKey, hackerOff);
            }
            return false; 
        }); 
        $("#tuxlink").click();
        const stored = window.localStorage.getItem(hackerKey);
        if (stored === hackerOn) {
            console.log("Hello!")
            $("#tuxlink").click();
        } else {
            console.log("Noo");
        }

        return false; 
    }); 
    } 
    ); 
    </script>

<script src="/js/analytics.js"></script>

<footer class="">

<div class="container-fluid">
<div class="shadow"></div>

</div>

</footer>

</body>
</html>
