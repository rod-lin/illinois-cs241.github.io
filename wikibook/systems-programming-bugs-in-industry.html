<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="apple-touch-icon" sizes="180x180" href="images/favicons/apple-touch-icon.png">
  <link rel="icon" type="image/png" href="images/favicons/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="images/favicons/favicon-16x16.png" sizes="16x16">
  <link rel="manifest" href="images/favicons/manifest.json">
  <link rel="mask-icon" href="images/favicons/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="theme-color" content="#ffffff">

  <title>Systems Programming Bugs in Industry</title>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" crossorigin="anonymous">
  <link async rel="stylesheet" href="/css/code-style.css?v=2018-09-08 16:51:38 +0000">
  <link rel="stylesheet" href="/css/main.css?v=2018-09-08 16:51:38 +0000">

</head>

<body>
<!-- Always shows a header, even in smaller screens. -->
<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">

            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>

            <a id="tuxlink"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAJCAMAAAA4jZ0cAAAAM1BMVEX///8CAgQMDAwsLCw0NDSjbQCkbQC+vbzOkwDU1NTlrADqvADxtgD0vQD12wD+/vz+//yBSdYEAAAAAXRSTlMAQObYZgAAADFJREFUCB0FwQkCQDAQBLCsq6g1/v9aCVQBthUwX8BIgStZCpUvKXSSLs6eyd0Pdg5+JwkBVyC74QYAAAAASUVORK5CYII=" title="Tux" alt="Tux" style="margin-left: 1em; width: 24px; filter: drop-shadow(1px 1px 0 white) drop-shadow(1px -1px 0 white) drop-shadow(-1px 1px 0 white) drop-shadow(-1px -1px 0 white); margin-top: 1em;"/></a>

            <a class="navbar-brand navbar-link normal" href="/">CS 241: System Programming</a>
            <a class="navbar-brand navbar-link small" href="/">CS 241</a>
        </div>

        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li>
            <a class="navbar-link" href="/mps.html">MPs</a>
            </li>
            <li>
            <a class="navbar-link" href="/labs.html">Labs</a>
            </li>
            <li>
            <a class="navbar-link" href="/help.html">Help!</a>
            </li>
            <li>
            <a class="navbar-link" href="/schedule.html">Schedule</a>
            </li>
            <li>
            <a class="navbar-link" href="/honors.html">Honors</a>
            </li>
            <li>
            <a class="navbar-link" href="/staff.html">The Crew</a>
            </li>
            <li>
            <a class="navbar-link" href="/search.html">Search</a>
            </li>
            <li>
            <a class="navbar-link" href="/wikibook/home.html">Wikibook</a>
            </li>
          </ul>
        </div>
        </div>
</nav>

<div class="container-fluid">
  <div class="row">
    <div class="col-md-2 col-sm-1 col-xs-0"></div>
    <div class="col-md-8 col-sm-10 col-xs-12">
      <div class="wrapper">
        <div class="pad"><div class="card">
          <div class="title">
            <div class="speaker-wrapper">
              <button onclick="speak()" class="speaker" alt="Read Page"></button>
            </div>
            <h1>
              Systems Programming Bugs in Industry
              
                <a class="github-link hidden-xs" href="https://github.com/angrave/SystemProgramming/wiki//Systems-Programming-Bugs-in-Industry">Edit on Github</a>
              
            </h1>
          </div>
          <div class="container-fluid"><div class="row"><div class="content col-sm-11 .col-sm-offset-1">
            
          </div></div></div>
        </div></div>
      </div>
      <div class="toc-wrapper">
<h4>Content</h4>
<ul class="toc">
<li><a id="toc_basic-memoryc-bugs" href="#basic-memoryc-bugs" class="fancy-link">Basic Memory/C Bugs</a></li>
<li><a id="toc_famous-race-conditions" href="#famous-race-conditions" class="fancy-link">Famous Race Conditions</a></li>
<li><a id="toc_memory-stuff" href="#memory-stuff" class="fancy-link">Memory Stuff</a></li>
<li><a id="toc_processes" href="#processes" class="fancy-link">Processes</a></li>
<li><a id="toc_filesystems" href="#filesystems" class="fancy-link">Filesystems</a></li>
<li><a id="toc_event-drive-io" href="#event-drive-io" class="fancy-link">Event Drive IO</a></li>
<li><a id="toc_networking" href="#networking" class="fancy-link">Networking</a></li>
<li><a id="toc_scheduling" href="#scheduling" class="fancy-link">Scheduling</a></li>
<li><a id="toc_signal" href="#signal" class="fancy-link">Signal</a></li>
</ul>
</div>
      <div id="content">
        
        <div class="wrapper">

</div>
        <div class="wrapper"><div class="pad"><div class="card">





<div class="container-fluid"><div class="row"><div class="content col-sm-11 .col-sm-offset-1">
<h1 id="be-careful">Be Careful!</h1>
<p>Below are all famous bugs that have brought down systems. If you want to experiment with any of the starter code that they give, take caution as you could lose important files or even usability of your system.</p>
<p>You may not be able to understand much of this at the beginning of the course. As we go through, more and more of these bugs will become clear. Systems programming doesn’t have to be in C only!</p>
<div class="pad"><div class="card">
<div class="title"><h2 id="basic-memoryc-bugs" class="title-text">Basic Memory/C Bugs<a class="anchor title-text" href="#basic-memoryc-bugs">#</a>
</h2></div>
<p><a href="https://siguza.github.io/IOHIDeous/" class="fancy-link wiki-link">Vulnerabilities in IOHIDeous, Mac OS X</a>
<a href="https://xkcd.com/1354/" class="fancy-link wiki-link">Heartbleed</a>
<a href="http://www.inulledmyself.com/2015/05/exploiting-memory-corruption-bugs-in.html" class="fancy-link wiki-link">PHP Memory Bug</a> – Please don’t use PHP
<a href="https://bugs.chromium.org/p/project-zero/issues/detail?id=1139" class="fancy-link wiki-link">“Cloudbleed”</a></p>

</div></div>
<div class="pad"><div class="card">
<div class="title"><h2 id="famous-race-conditions" class="title-text">Famous Race Conditions<a class="anchor title-text" href="#famous-race-conditions">#</a>
</h2></div>
<p><a href="http://josipfranjkovic.blogspot.com/2015/04/race-conditions-on-facebook.html" class="fancy-link wiki-link">Making money on digital ocean</a>
<a href="http://mailinator.blogspot.com/2009/06/beautiful-race-condition.html" class="fancy-link wiki-link">Awesome Race Condition</a>
<a href="https://www.josipfranjkovic.com/blog/race-conditions-on-web" class="fancy-link wiki-link">Bitcoin Race Conditions</a>
<a href="https://github.com/dirtycow/dirtycow.github.io/wiki/VulnerabilityDetails" class="fancy-link wiki-link">Dirty Cow, My Favorite</a>
<a href="http://gallium.inria.fr/blog/intel-skylake-bug/" class="fancy-link wiki-link">Hyper Threading</a>
<a href="http://seclists.org/oss-sec/2013/q1/326" class="fancy-link wiki-link">Kernel Race Conditions</a>
Not a bug but still cool – <a href="https://github.com/dasmithii/RCRand" class="fancy-link wiki-link">Random number race generation</a></p>

</div></div>
<div class="pad"><div class="card">
<div class="title"><h2 id="memory-stuff" class="title-text">Memory Stuff<a class="anchor title-text" href="#memory-stuff">#</a>
</h2></div>
<p><a href="https://lukasa.co.uk/2016/12/Debugging_Your_Operating_System/?hn=1" class="fancy-link wiki-link">Memory Allocation in Python</a>
<a href="https://www.joyent.com/blog/walmart-node-js-memory-leak" class="fancy-link wiki-link">Memory Leaks</a>
<a href="http://seclists.org/oss-sec/2017/q1/471" class="fancy-link wiki-link"><code class="highlighter-rouge">kfree</code> twice to get root</a></p>

</div></div>
<div class="pad"><div class="card">
<div class="title"><h2 id="processes" class="title-text">Processes<a class="anchor title-text" href="#processes">#</a>
</h2></div>
<p><a href="https://www.twistlock.com/2017/12/27/escaping-docker-container-using-waitid-cve-2017-5123/" class="fancy-link wiki-link">Using waitid to escape docker</a>
<a href="http://rachelbythebay.com/w/2014/08/19/fork/" class="fancy-link wiki-link">Famous <code class="highlighter-rouge">fork</code> gotcha</a></p>

</div></div>
<div class="pad"><div class="card">
<div class="title"><h2 id="filesystems" class="title-text">Filesystems<a class="anchor title-text" href="#filesystems">#</a>
</h2></div>
<p><a href="https://cxsecurity.com/issue/WLB-2015100149?" class="fancy-link wiki-link">Apple Filesystems</a>
<a href="http://seclists.org/oss-sec/2015/q2/717" class="fancy-link wiki-link">Ubuntu Filesystems</a></p>

</div></div>
<div class="pad"><div class="card">
<div class="title"><h2 id="event-drive-io" class="title-text">Event Drive IO<a class="anchor title-text" href="#event-drive-io">#</a>
</h2></div>
<p><a href="https://idea.popcount.org/2017-02-20-epoll-is-fundamentally-broken-12/" class="fancy-link wiki-link"><code class="highlighter-rouge">epoll</code> broken</a></p>

</div></div>
<div class="pad"><div class="card">
<div class="title"><h2 id="networking" class="title-text">Networking<a class="anchor title-text" href="#networking">#</a>
</h2></div>
<p><a href="http://www.openwall.com/lists/oss-security/2015/01/27/9" class="fancy-link wiki-link">gethostbyname overflow</a>
<a href="https://bugs.chromium.org/p/project-zero/issues/detail?id=820" class="fancy-link wiki-link">tricking antiviruses</a>
<a href="https://guidovranken.wordpress.com/2016/02/27/openssl-cve-2016-0799-heap-corruption-via-bio_printf/" class="fancy-link wiki-link">Breaking SSL</a></p>

</div></div>
<div class="pad"><div class="card">
<div class="title"><h2 id="scheduling" class="title-text">Scheduling<a class="anchor title-text" href="#scheduling">#</a>
</h2></div>
<p><a href="http://www.ece.ubc.ca/~sasha/papers/eurosys16-final29.pdf" class="fancy-link wiki-link">Decades of wasted cores</a></p>

</div></div>
<div class="pad"><div class="card">
<div class="title"><h2 id="signal" class="title-text">Signal<a class="anchor title-text" href="#signal">#</a>
</h2></div>
<p><a href="http://www.openwall.com/lists/oss-security/2017/10/12/1" class="fancy-link wiki-link">Privilege Escalation with <code class="highlighter-rouge">kill(-1, SIGKILL)</code></a></p>
</div></div>
</div></div></div>
</div></div></div>
        
        <div class="wrapper">
</div>
      </div>
      <div class="col-md-2 col-sm-1 col-xs-0"></div>
    </div>
  </div>
  <script>
    var github_repo = "illinois-cs241/illinois-cs241.github.io";
    var github_path = "_wikibook/systems-programming-bugs-in-industry.md";
  </script>
  <script src="https://code.jquery.com/jquery-3.2.1.min.js" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML" crossorigin="anonymous"></script>
<script src="/js/main.js?v=2018-09-08 16:51:38 +0000"></script>

<script>
$(document).ready(function() { 
    $("#tuxlink").prop("href", "javascript:;").click(function() { 
        if ("WebkitAppearance" in document.documentElement.style) { 
            var style = document.createElement("style"); 
            style.setAttribute("id", "tuxstyle"); 
            style.appendChild(document.createTextNode("")); 
            document.head.appendChild(style); 
            var sheet = style.sheet;
            sheet.insertRule("::-webkit-scrollbar-thumb {border-radius: 0; background-color: white; -webkit-box-shadow: none;}", 0); 
        } 

        const hackerKey = 'hackerLocalKey';
        const hackerOff = "off";
        const hackerOn = "on";

        if (window.localStorage.getItem(hackerKey) === null) {
            window.localStorage.setItem(hackerKey, hackerOff);
        }

        $("#tuxlink").unbind('click').click(function() { 
            const hackerClass = 'hacker';
            $('html, body, header, nav, table, pre, span, :not(.card-staff) > a, p, h1, h2, h3, h4, h5, h6').toggleClass(hackerClass);
            $('ul, img, pre').toggleClass(hackerClass);
            $('.toc').toggleClass(hackerClass);
            $('.content .highlighter-rouge').toggleClass(hackerClass);
            $('.large-centered.columns').toggleClass(hackerClass);
            $('.pad').toggleClass(hackerClass);
            $('a').toggleClass(hackerClass);
            $('tbody tr:nth-child(2n+1)').toggleClass(hackerClass);
            $("#tuxlink img").toggleClass(hackerClass);

            const val = window.localStorage.getItem(hackerKey);
            if (val === hackerOff) {
                window.localStorage.setItem(hackerKey, hackerOn);
            } else {
                window.localStorage.setItem(hackerKey, hackerOff);
            }
            return false; 
        }); 
        $("#tuxlink").click();
        const stored = window.localStorage.getItem(hackerKey);
        if (stored === hackerOn) {
            console.log("Hello!")
            $("#tuxlink").click();
        } else {
            console.log("Noo");
        }

        return false; 
    }); 
    } 
    ); 
    </script>

<script src="/js/analytics.js"></script>

<footer class="">

<div class="container-fluid">
<div class="shadow"></div>

</div>

</footer>

</body>
</html>
